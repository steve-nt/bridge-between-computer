================================================================================
TASK 6: TEARDOWN & CLEANUP
================================================================================

OBJECTIVE: Stop all load generators, delete AWS resources, and collect final
evidence for the lab report.

================================================================================
STEP-BY-STEP TEARDOWN
================================================================================

STEP 1: STOP ALL LOAD GENERATORS (Do this FIRST!)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

In PowerShell windows running load scripts:
  Press: Ctrl+C (in each window)

Result:
  âœ“ Both scripts stop
  âœ“ Load stops being sent
  âœ“ ALB stops receiving requests
  âœ“ CPU will drop
  âœ“ RequestCount stops increasing

Wait 30 seconds after stopping.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

STEP 2: COLLECT FINAL CLOUDWATCH METRICS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Go to: CloudWatch > Dashboards > D7078E-Mini-Project-Dashboard

Take final screenshots of:
  â˜ CPU Utilization (should drop toward 0%)
  â˜ RequestCount (should drop)
  â˜ HealthyHostCount (should be 3 or dropping toward 1)
  
Save as: final_metrics_TIMESTAMP.png

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

STEP 3: COLLECT ASG ACTIVITY LOG
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Go to: EC2 > Auto Scaling Groups > D7078E-MINI-PROJECT-GROUP35-ASG

Click: "Activity" tab

Take screenshot showing:
  âœ“ All scaling events
  âœ“ Timestamps
  âœ“ Instance launches
  âœ“ Instance terminations (if any)

Save as: asg_activity_log.png

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

STEP 4: COLLECT EC2 INSTANCES FINAL STATE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Go to: EC2 > Instances

Take screenshot showing:
  âœ“ Final instance count (should be 3, or decreasing)
  âœ“ Instance IDs
  âœ“ Instance states
  âœ“ Launch times
  âœ“ Public IPs

Save as: ec2_final_state.png

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

STEP 5: COLLECT CLOUDWATCH ALARMS STATE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Go to: CloudWatch > Alarms > All Alarms

Take screenshot showing:
  âœ“ cpu-high-alarm-80percent (final state)
  âœ“ cpu-low-alarm-30percent (final state)
  âœ“ Any alarm history

Save as: alarms_final_state.png

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

STEP 6: DELETE AUTO SCALING GROUP
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Go to: EC2 > Auto Scaling Groups

Select: D7078E-MINI-PROJECT-GROUP35-ASG

Click: "Delete"

Confirm: Yes

Wait for deletion (takes ~1-2 minutes)
  â”œâ”€ ASG deleted
  â”œâ”€ All instances terminated
  â””â”€ Instances are being removed

Result: HealthyHostCount will drop to 0 as instances terminate

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

STEP 7: DELETE APPLICATION LOAD BALANCER
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Go to: EC2 > Load Balancers

Find: D7078E-MINI-PROJECT-GROUP35-LB

Click: Select it

Actions > Delete

Confirm: Yes

Wait for deletion (takes ~1-2 minutes)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

STEP 8: DELETE TARGET GROUP
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Go to: EC2 > Target Groups

Find: D7078E-MINI-PROJECT-GROUP35-TG

Click: Select it

Actions > Delete

Confirm: Yes

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

STEP 9: DELETE LAUNCH TEMPLATE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Go to: EC2 > Launch Templates

Find: D7078E-MINI-PROJECT-GROUP35-LAUNCH-TEMPLATE

(Or similar name)

Select it

Actions > Delete

Confirm: Yes

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

STEP 10: DELETE AMI (OPTIONAL)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Go to: EC2 > AMIs

Find: D7078E-MINI-PROJECT-GROUP35-AMI

(Or your custom AMI)

Right-click > Deregister

This frees up storage space

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

STEP 11: DELETE SECURITY GROUPS (OPTIONAL)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Go to: EC2 > Security Groups

Find groups created for this lab

Delete unused security groups

Note: Cannot delete default security group

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

STEP 12: VERIFY DELETION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Check these are ALL GONE:

â˜ ASG: Deleted (no instances)
â˜ ALB: Deleted
â˜ Target Group: Deleted
â˜ Launch Template: Deleted
â˜ All EC2 Instances: Terminated
â˜ AMI: Deregistered (optional)
â˜ Security Groups: Cleaned up (optional)

Take screenshot showing empty resources:
  Save as: cleanup_complete.png

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

STEP 13: COLLECT CLOUDTRAIL LOGS (For audit trail)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Go to: CloudTrail

View event history

Filter for:
  âœ“ Auto Scaling actions
  âœ“ EC2 actions
  âœ“ ALB actions

Download logs (optional but recommended)

Save as: cloudtrail_logs.json

This shows EXACTLY what happened during the lab!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

STEP 14: CALCULATE COSTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Check: AWS Billing > Cost Explorer

View costs for:
  âœ“ EC2 instances (should be minimal - t2.micro)
  âœ“ ALB hours
  âœ“ Data transfer
  âœ“ CloudWatch

Note: Lab should have cost ~$0.10-$2.00 (minimal)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

================================================================================
FINAL EVIDENCE CHECKLIST
================================================================================

Collect ALL of these for your lab report:

SCREENSHOTS:
  â˜ CloudWatch Dashboard (before load)
  â˜ CloudWatch Dashboard (during Phase 1)
  â˜ CloudWatch Dashboard (during Phase 2)
  â˜ CloudWatch Dashboard (during Phase 3 - scaling!)
  â˜ HealthyHostCount: 1 â†’ 2 â†’ 3
  â˜ ASG Activity showing scaling events
  â˜ EC2 Instances showing 3 running
  â˜ CloudWatch Alarms state
  â˜ CPU reaching 80% threshold
  â˜ RequestCount showing high load
  â˜ Final metrics after cleanup

LOGS:
  â˜ CloudTrail logs (audit trail)
  â˜ ASG Activity history
  â˜ CloudWatch metrics export
  â˜ Load generator terminal output (if saved)

DOCUMENTS:
  â˜ This checklist
  â˜ Command used for load generation
  â˜ SSM stress command (if Task 5 done)
  â˜ Timeline of events
  â˜ Cost analysis

CONFIGURATION:
  â˜ agent.py script (load generator)
  â˜ docker-compose.yml
  â˜ ASG configuration (min=1, max=3, desired=1)
  â˜ Alarm configuration (80% threshold)
  â˜ Launch template / AMI used

================================================================================
LAB REPORT TEMPLATE
================================================================================

Create a PDF report with:

1. EXECUTIVE SUMMARY
   â””â”€ What was tested
   â””â”€ Key findings
   â””â”€ Outcomes

2. OBJECTIVES
   â””â”€ Task 1: Prepare AMI âœ“
   â””â”€ Task 2: Create ALB, Target Group, ASG âœ“
   â””â”€ Task 3: Configure CloudWatch alarms & scaling âœ“
   â””â”€ Task 4: Run load generators & observe scaling âœ“
   â””â”€ Task 5: Simulate failure & observe recovery (if done) âœ“
   â””â”€ Task 6: Teardown âœ“

3. ARCHITECTURE
   â””â”€ Diagram showing:
     â”œâ”€ Load generators
     â”œâ”€ ALB
     â”œâ”€ Target Group
     â”œâ”€ ASG
     â”œâ”€ Instances
     â””â”€ CloudWatch

4. TASK RESULTS
   
   Task 1: AMI Creation
   â””â”€ [Screenshot of AMI]
   â””â”€ Details: OS, web app, endpoints
   
   Task 2: Infrastructure
   â””â”€ [Screenshots of ALB, TG, ASG]
   â””â”€ Configuration details
   
   Task 3: Scaling Setup
   â””â”€ [Alarm configuration]
   â””â”€ Scale-out: CPU >= 80%
   â””â”€ Scale-in: CPU <= 30%
   
   Task 4: Load Testing
   â””â”€ [CloudWatch screenshots showing:]
     â”œâ”€ CPU rising
     â”œâ”€ RequestCount increasing
     â”œâ”€ Scaling 1 â†’ 2 â†’ 3
   â””â”€ Timeline of events
   â””â”€ Load metrics (RPS)
   
   Task 5: Failure Simulation (if done)
   â””â”€ [Screenshots showing:]
     â”œâ”€ Health check failure
     â”œâ”€ Instance replacement
     â”œâ”€ Recovery time
   â””â”€ Analysis
   
   Task 6: Cleanup
   â””â”€ All resources deleted
   â””â”€ Cost summary

5. ANALYSIS
   â””â”€ What worked well?
   â””â”€ What was challenging?
   â””â”€ How long did scaling take?
   â””â”€ How long did recovery take?
   â””â”€ What was peak CPU?
   â””â”€ What was peak RequestCount?

6. LESSONS LEARNED
   â””â”€ Production implications
   â””â”€ Reliability demonstrated
   â””â”€ Potential improvements
   â””â”€ Cost optimization

7. APPENDIX
   â””â”€ Full CloudWatch metrics export
   â””â”€ ASG Activity log
   â””â”€ CloudTrail logs
   â””â”€ Configuration files
   â””â”€ Commands executed

================================================================================
ESTIMATED COSTS
================================================================================

T2.micro instances: ~$0.01/hour each
ALB: ~$0.0225/hour
Data transfer: Minimal (internal VPC)
CloudWatch: Minimal (free tier)

For 30-minute lab with 3 instances + ALB:
  â‰ˆ $0.30 - $0.50 total

Very cheap! Good for learning.

================================================================================
WHAT TO KEEP
================================================================================

After deletion, keep these files/screenshots:

âœ“ All screenshots (evidence)
âœ“ CloudTrail logs (audit trail)
âœ“ Lab report (PDF)
âœ“ Agent.py script (for reference)
âœ“ Docker-compose.yml (for reference)

You can safely delete:
  âœ— Load generator output (logs)
  âœ— Temporary test files

================================================================================
SUCCESS CRITERIA
================================================================================

Lab is complete when:

âœ“ All tasks 1-6 completed
âœ“ ASG scaled from 1 â†’ 2 â†’ 3 instances
âœ“ Failure simulation executed (Task 5, optional)
âœ“ All resources deleted (Task 6)
âœ“ Comprehensive report written
âœ“ Screenshots collected
âœ“ Evidence documented

If all above: LAB COMPLETE! ðŸŽ‰

================================================================================
YOU'RE DONE!
================================================================================

Congratulations on completing the D7078E Cloud Security Mini Project!

You've demonstrated:
  âœ“ Infrastructure as Code (AMI, ALB, ASG)
  âœ“ Auto-scaling under load
  âœ“ Health checks and monitoring
  âœ“ Failure recovery (if Task 5 done)
  âœ“ Cloud architecture principles
  âœ“ DevOps best practices

This is professional-grade cloud engineering! ðŸš€

================================================================================
