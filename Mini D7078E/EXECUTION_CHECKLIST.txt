================================================================================
D7078E TASK 4 - EXECUTION CHECKLIST
================================================================================

Before running the load test script, complete this checklist:

================================================================================
PRE-EXECUTION CHECKLIST (5 minutes)
================================================================================

System Requirements:
â˜ Windows 10 or later
â˜ PowerShell 5.0+ (built-in, no admin required)
â˜ Python 3.6+ installed
  Test: Open PowerShell and run: python --version
  Should show: Python 3.x.x

Python Packages:
â˜ aiohttp installed
  Test: Run: pip install aiohttp
  Should show: Successfully installed (or already exists)

Project Files:
â˜ agent.py exists in: C:\Users\snten\Desktop\bridge-between-computer\Mini D7078E\
  Test: Run: ls agent.py
  Should show: agent.py

AWS Infrastructure:
â˜ ALB is running and responding
  Test: Open browser and visit: http://D7078E-MINI-PROJECT-GROUP35-LB-8834940.eu-north-1.elb.amazonaws.com/
  Should show: Web server response

â˜ ASG exists with 1 instance
  Test: AWS Console â†’ EC2 > Auto Scaling Groups > D7078E-MINI-PROJECT-GROUP35-ASG
  Should show: Desired=1, Current instances=1

â˜ Target Group is healthy
  Test: AWS Console â†’ EC2 > Target Groups > D7078E-MINI-PROJECT-GROUP35-TG
  Should show: 1 healthy target

â˜ Scaling policies are active
  Test: AWS Console â†’ EC2 > Auto Scaling Groups > D7078E-MINI-PROJECT-GROUP35-ASG > Automatic scaling
  Should show: scale-out-policy (Active), scale-in-policy (Active)

â˜ CloudWatch alarms exist
  Test: AWS Console â†’ CloudWatch > Alarms > All alarms
  Should show: cpu-high-alarm-80percent, cpu-low-alarm-30percent (both visible)

Dashboards:
â˜ CloudWatch Dashboard created
  Test: AWS Console â†’ CloudWatch > Dashboards > D7078E-Mini-Project-Dashboard
  Should show: 3-4 widgets (CPU, RequestCount, HealthyHostCount)

================================================================================
EXECUTION CHECKLIST (During test)
================================================================================

Before Starting Script:
â˜ Browser window 1: CloudWatch Dashboard open and visible
â˜ Browser window 2: AWS Console (for real-time monitoring)
â˜ PowerShell window: Ready to paste command
â˜ External monitor or side-by-side windows (for viewing dashboard while running)

Starting the Script:
â˜ Copy one command from README.txt
â˜ Paste entire command into PowerShell
â˜ Press Enter
â˜ Script begins, shows prerequisite checks (give it 5-10 seconds)
â˜ Script performs ALB connectivity test
â˜ Script shows ASG status
â˜ Script shows interactive menu
â˜ Select option 1 (Quick Test) - 15 minutes, shows full scaling

During Phase 1 (5 minutes):
â˜ PowerShell shows: "[worker X] req #N status=200" messages
â˜ CloudWatch CPU Utilization: rising 0% â†’ 30%
â˜ CloudWatch RequestCount: increasing
â˜ HealthyHostCount: stays at 1 (no scaling yet)
â˜ Take screenshot: "Phase1_baseline.png"

Pause Between Phase 1 and 2:
â˜ Script shows: "Phase 1 done. Press Enter for Phase 2"
â˜ Review Phase 1 results
â˜ Press Enter to continue

During Phase 2 (10 minutes):
â˜ PowerShell shows: Increased request frequency
â˜ 0-2 min: CPU rises 30% â†’ 60%
â˜ 2-3 min: CPU rises 60% â†’ 80%
â˜ âš ï¸ THIS IS THE CRITICAL POINT âš ï¸
â˜ Take screenshot: "Phase2_cpu_rising.png"

Alarm Trigger (Minute 3-4):
â˜ CloudWatch CPU hits 80%
â˜ Go to: CloudWatch > Alarms > cpu-high-alarm-80percent
â˜ State should change: OK â†’ IN_ALARM
â˜ Take screenshot: "Alarm_triggered.png"

First Scaling Event (Minute 4-5):
â˜ Go to: CloudWatch Dashboard
â˜ HealthyHostCount increases: 1 â†’ 2
â˜ Go to: EC2 > Instances, see 2 instances now
â˜ Go to: EC2 > ASG > Activity tab, see "Launching 1 new instance"
â˜ Take screenshot: "First_instance_launched.png"

Second Scaling Event (Minute 6-7):
â˜ CPU may drop as load distributes, then rise again
â˜ If CPU â‰¥ 80% again for 2 minutes, another scale-out
â˜ HealthyHostCount increases: 2 â†’ 3
â˜ Go to: EC2 > Instances, see 3 instances now
â˜ Take screenshot: "Second_instance_launched.png"

Peak Load (Minute 7-10):
â˜ All 3 instances running
â˜ HealthyHostCount: 3
â˜ CPU: 40-60% (load distributed)
â˜ RequestCount: high (500+ per second)
â˜ No more scaling (at max capacity)
â˜ Take screenshot: "Peak_metrics.png"

Phase 2 Complete:
â˜ Script finishes Phase 2 (10 minute mark)
â˜ Press Ctrl+C to stop, or let it finish
â˜ PowerShell shows completion message

================================================================================
POST-EXECUTION CHECKLIST (After script finishes)
================================================================================

Immediate Results:
â˜ All 3 instances are running
â˜ HealthyHostCount: 3
â˜ RequestCount: stopped (load finished)
â˜ CPU: starts declining
â˜ Take screenshot: "Final_state.png"

CloudWatch Dashboard:
â˜ Go to CloudWatch > Dashboards > D7078E-Mini-Project-Dashboard
â˜ CPU graph shows the spike pattern
â˜ RequestCount shows the increase
â˜ HealthyHostCount shows 1 â†’ 2 â†’ 3 jump
â˜ Take screenshots of all metrics

ASG Activity Log:
â˜ Go to EC2 > Auto Scaling Groups > D7078E-MINI-PROJECT-GROUP35-ASG
â˜ Click "Activity" tab
â˜ See both scaling events with timestamps
â˜ Note: "Launching new instance" entries
â˜ Take screenshot: "ASG_activity.png"

EC2 Instances:
â˜ Go to EC2 > Instances
â˜ Filter for ASG instances
â˜ See all 3 instances running
â˜ Note their instance IDs and launch times
â˜ Take screenshot: "Instances_running.png"

CloudWatch Alarms:
â˜ Go to CloudWatch > Alarms > All alarms
â˜ Check: cpu-high-alarm-80percent was IN_ALARM (now OK)
â˜ Check: cpu-low-alarm-30percent (should be OK)
â˜ Take screenshot: "Alarm_history.png"

================================================================================
OPTIONAL: OBSERVE SCALE-IN (Additional 10-15 minutes)
================================================================================

If you want to see instances scale DOWN, continue:

Resume With Low Load:
â˜ Run one more load phase with minimal load
  Command: python agent.py --url http://D7078E-MINI-PROJECT-GROUP35-LB-8834940.eu-north-1.elb.amazonaws.com/ --workers 1 --rps 1 --duration 600
â˜ This will reduce load from 500 RPS to 1 RPS
â˜ Duration: 10 minutes

Observe Scale-In:
â˜ CloudWatch CPU drops: 60% â†’ 30%
â˜ Wait 5+ minutes for cpu-low-alarm-30percent to trigger
â˜ Watch HealthyHostCount decrease: 3 â†’ 2 â†’ 1
â˜ Instances terminate gracefully
â˜ Take screenshots of the scale-in process

Final State:
â˜ Back to 1 instance
â˜ CPU: 0-5%
â˜ RequestCount: minimal
â˜ HealthyHostCount: 1
â˜ Take final screenshot

================================================================================
DATA COLLECTION
================================================================================

Create a folder for your lab results:
C:\Users\snten\Desktop\bridge-between-computer\Mini D7078E\LAB_RESULTS\

Collect and organize:
ğŸ“¸ Screenshots:
  â˜ Phase1_baseline.png
  â˜ Phase2_cpu_rising.png
  â˜ Alarm_triggered.png
  â˜ First_instance_launched.png
  â˜ Second_instance_launched.png
  â˜ Peak_metrics.png
  â˜ Final_state.png
  â˜ ASG_activity.png
  â˜ Instances_running.png
  â˜ Alarm_history.png
  â˜ Dashboard_final.png

ğŸ“Š Metrics to Record:
  â˜ Time when Phase 2 started
  â˜ Time CPU reached 50%
  â˜ Time CPU reached 80%
  â˜ Time alarm triggered
  â˜ Time first instance launched
  â˜ Time second instance launched
  â˜ Time Phase 2 ended
  â˜ Peak CPU percentage
  â˜ Peak RequestCount
  â˜ Peak HealthyHostCount

ğŸ“ Notes:
  â˜ Did scaling happen as expected?
  â˜ Were there any errors or failures?
  â˜ How long did each instance take to boot?
  â˜ Did any health checks fail?
  â˜ What was the busiest time?

================================================================================
TROUBLESHOOTING DURING EXECUTION
================================================================================

Script Won't Start:
â†’ Check: Set-ExecutionPolicy -ExecutionPolicy Bypass -Scope Process
â†’ Check: You're in the correct directory (ls agent.py works)
â†’ Check: Python is installed (python --version works)

No Load Being Generated:
â†’ Check: ALB is responding (test in browser)
â†’ Check: Network is working
â†’ Check: agent.py syntax is correct

CPU Not Rising to 80%:
â†’ Scale might be too low
â†’ Try: --workers 100 --rps 20 (instead of 50/10)
â†’ Check: Instance type has enough capacity
â†’ t2.micro has CPU burst limited - might need t2.small

Alarms Not Triggering:
â†’ Check: Alarm exists in CloudWatch
â†’ Check: Alarm threshold is 80
â†’ Wait: Alarms need 2 minutes to evaluate
â†’ Check: Alarm actions are enabled

Instances Not Launching:
â†’ Check: ASG max capacity (should be 3)
â†’ Check: AWS account instance quota
â†’ Check: IAM permissions
â†’ Check: VPC subnets available

Dashboard Not Updating:
â†’ Refresh browser
â†’ Wait 30-60 seconds (metrics batch)
â†’ Check dashboard exists and has widgets
â†’ Check metrics were selected correctly

================================================================================
SUCCESS CRITERIA
================================================================================

Your lab is successful when you can verify:

âœ“ Phase 1 runs (100 RPS) without scaling
âœ“ Phase 2 starts (500 RPS) and triggers scaling
âœ“ cpu-high-alarm-80percent transitions to IN_ALARM
âœ“ HealthyHostCount increases from 1 â†’ 2 â†’ 3
âœ“ All 3 instances are healthy
âœ“ You have screenshots of each major event
âœ“ Timestamps are recorded
âœ“ CloudWatch metrics show the complete picture

If all above are true: âœ… TASK 4 COMPLETE!

================================================================================
YOU'RE READY!
================================================================================

Print this checklist and use it during execution.

Estimated time: 20-25 minutes for complete test

Next step: Copy the command from README.txt and paste into PowerShell!

================================================================================
