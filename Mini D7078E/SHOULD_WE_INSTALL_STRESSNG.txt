================================================================================
SHOULD WE PRE-INSTALL STRESS-NG IN THE AMI?
================================================================================

QUESTION:
Should we install stress-ng in the instance used from ASG (the AMI)?

SHORT ANSWER:
YES - Install it in the AMI. Here's why:

================================================================================
WHY INSTALL IN AMI (RECOMMENDED)
================================================================================

Advantages:
  âœ“ All future instances will have it pre-installed
  âœ“ No need to install each time you SSH
  âœ“ Faster testing (ready immediately)
  âœ“ No disk space issues during installation
  âœ“ Professional approach (like production)
  âœ“ Reusable for future experiments

Disadvantages:
  âœ— Takes ~5 minutes to set up now
  âœ— Requires creating new AMI image

Time investment:
  Initial setup: 5 min (cleanup + install + create AMI)
  Per test: 2 min (just SSH and run)
  Total for 3 instances: 5 + (2 Ã— 3) = 11 minutes
  
  Saves time for any future tests!

================================================================================
WHY NOT INSTALL IN AMI
================================================================================

(Using 'yes' command instead)

Advantages:
  âœ“ Instant - no setup needed
  âœ“ No AMI creation needed
  âœ“ Works right now with current instances

Disadvantages:
  âœ— Have to do this for each test
  âœ— Must repeat cleanup for future instances
  âœ— Not scalable for larger projects

Time investment:
  Per test: 5 min (cleanup) + 2 min (stress) = 7 minutes
  Total for 3 instances: 7 Ã— 3 = 21 minutes
  
  Gets slower if you test again!

================================================================================
COMPARISON
================================================================================

Scenario: Test 1 instance now, 2 instances later

APPROACH A: Install in AMI now
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Now:      5 min setup + 2 min test = 7 min (first time, slower)
  Later:    0 min setup + 2 min test = 2 min (much faster!)
  Total:    9 minutes
  
  Winner: Faster overall! âœ…

APPROACH B: Use 'yes' command each time
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Now:      5 min cleanup + 2 min test = 7 min
  Later:    5 min cleanup + 2 min test = 7 min (same each time)
  Total:    14 minutes
  
  Winner: Option A was faster! âŒ

================================================================================
DECISION MATRIX
================================================================================

Install in AMI IF:
  â˜‘ You plan to test multiple instances
  â˜‘ You might reuse this lab in the future
  â˜‘ You want professional/production-like setup
  â˜‘ You have 5 minutes now to set it up
  â˜‘ You want instances pre-configured
  
Use 'yes' command IF:
  â˜‘ You only have 1 instance to test
  â˜‘ This is your last test
  â˜‘ You want fastest immediate result
  â˜‘ You want no setup at all

================================================================================
RECOMMENDATION FOR YOUR PROJECT
================================================================================

Given:
  â€¢ You have 3 instances to test (not just 1)
  â€¢ This is a lab project (might review later)
  â€¢ You want to demonstrate high availability (3 instances = multiple tests)
  â€¢ Professional approach expected

RECOMMENDATION: Install in AMI now
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Steps:
  1. Fix disk space on current instance (5 min)
  2. Install stress-ng on current instance (2 min)
  3. Create new AMI from current instance (3 min)
  4. Update Launch Template to use new AMI (2 min)
  5. Terminate all 3 old instances (1 min)
  6. ASG launches 3 new instances with stress-ng pre-installed (5 min)
  7. Test instance 1 (2 min)
  8. Test instance 2 (2 min)
  9. Test instance 3 (2 min)
  
  Total: 24 minutes (but much cleaner workflow)

================================================================================
WHAT IF WE JUST USE 'YES' COMMAND?
================================================================================

Fastest path to finish Task 5 right now:

  Current instance (already SSH'd):
    ubuntu@ip-172-31-17-195:~$ timeout 120 yes > /dev/null
  
  (Watch CloudWatch for 2 minutes)
  
  Exit SSH, wait for recovery, collect screenshots
  
  Done! Task 5 = 5 minutes

Then for later instances:
  1. SSH to instance 2
  2. timeout 120 yes > /dev/null
  3. Watch and document
  4. Repeat for instance 3

Total: 15 minutes for all 3 instances (simple!)

================================================================================
MY RECOMMENDATION
================================================================================

Use BOTH approaches:

IMMEDIATE (Next 5 minutes):
  1. Clean disk on current instance
  2. Use 'yes' command for Task 5 testing
  3. Complete Task 5 with current instances
  4. Document everything

OPTIONAL (For future reusability):
  1. After Task 5, install stress-ng in AMI
  2. Create new AMI image
  3. Update Launch Template
  4. For future labs, new instances will have stress-ng

This way:
  âœ“ Task 5 completed faster (5 min)
  âœ“ Professional setup for future (optional)
  âœ“ No time pressure
  âœ“ Flexible

================================================================================
STEP-BY-STEP: QUICK PATH TO TASK 5 COMPLETION
================================================================================

Right now you're SSH'd to instance: ubuntu@ip-172-31-17-195

Step 1: You're already in SSH session (2 seconds)

Step 2: Clean disk (just to be safe):
  
  sudo apt-get clean
  sudo apt-get autoclean
  
  (Takes ~30 seconds)

Step 3: Open CloudWatch dashboard in browser
  
  https://eu-north-1.console.aws.amazon.com/cloudwatch/
  Set refresh to 10 seconds

Step 4: Run stress test (in SSH session):
  
  timeout 120 yes > /dev/null
  
  (Runs for 120 seconds exactly)

Step 5: Watch failure and recovery
  
  While command runs, observe:
    â€¢ CPU spike
    â€¢ Health check failure
    â€¢ ASG replacement
    â€¢ Recovery complete
  
  Take 5-6 screenshots

Step 6: Exit and document
  
  (Command exits automatically after 120s)
  Type: exit
  
  Save screenshots to Task5_Evidence folder

TOTAL TIME: ~10 minutes to complete Task 5! âœ“

================================================================================
FINAL ANSWER
================================================================================

Question: Should we install stress-ng in the AMI?

Answer depends on your goals:

Goal 1: Finish Task 5 as quickly as possible
  â†’ Use 'yes' command (10 minutes total)
  â†’ Don't install stress-ng

Goal 2: Professional setup + future reusability
  â†’ Install in AMI (20+ minutes, but reusable)
  â†’ Creates new AMI with stress-ng pre-installed

My recommendation: Goal 1 right now
  â†’ Finish Task 5 quickly with 'yes' command
  â†’ You're already SSH'd in
  â†’ Same result as stress-ng
  â†’ Then optionally install in AMI later if needed

You decide based on your timeline! ğŸš€

================================================================================
ACTION ITEMS
================================================================================

Pick one:

â˜ OPTION A: Quick finish (recommended)
  â””â”€ Type: timeout 120 yes > /dev/null
  â””â”€ Watch failure and recovery
  â””â”€ Take screenshots
  â””â”€ 10 minutes total
  
â˜ OPTION B: Professional setup
  â””â”€ Clean disk + install stress-ng
  â””â”€ Create new AMI
  â””â”€ Update Launch Template
  â””â”€ 25 minutes total (but reusable)

Which option would you like to proceed with?

================================================================================
